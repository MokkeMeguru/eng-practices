# Emergencies

場合によっては、コードレビューを迅速に行わなければならない、緊急対応の CL が発生する場合があります。

## What Is An Emergency? {#what}

緊急対応の CL は、直近に対応しなければならない本番環境にたいして行う、ロールバックを除いた次のような **小さな** 変更を指します。

- ユーザにクリティカルな影響を与えるバグの修正
- 法務的な問題の修正
- 重要なセキュリティホールの修正

このような緊急対応の CL について、我々は レビューへの着手スピード [speed of response](reviewer/speed.md) のみならず、コードレビュープロセス全体の速度を気にする必要があります。その上レビュワーは、レビュー速度に加えてコードの正確さの確認を注意深く行う必要があり、また、他のレビューに割り込みをかけて最優先で行わなければなりません。

**しかしながら、これらの緊急対応の CL については、緊急対応が完了した後、 対応 CL 全体を再度見直し、より完全なレビュー [more thorough review](reviewer/looking-for.md) を行う必要があります。**

## What Is NOT An Emergency? {#not}

緊急事態を明確にするために、逆に緊急事態 **でない** ような例を紹介します。

- 来週ないし今週中の、新機能開発 (外部との契約といった、厳密な締め切り [hard deadline](#deadlines) がある場合を除く) の場合
- 開発者が長い間ボールを持ち続けており、CL を取り込んでほしいと心から願っている場合
- レビュワーが全員が深夜や勤務時間外である場合
- 金曜日の終わりなどの、休み前に見てほしい CL の場合
- 緩めな締め切り [soft (not hard) deadline](#deadlines) のために CL を取り込みたいとマネージャが言ってきた場合
- テストの失敗やビルドを破壊した CL をロールバックする場合

## What Is a Hard Deadline? {#deadlines}

厳密な締め切りとは、次のような、もしこれを逃した場合 **何らかの損害が発生するような** 締め切りを指します。

- 契約でその期日までに CL を適用できているよう義務付けられている場合
- その日までに適用できなければ、プロダクトの市場価値を失いかねない場合
- ハードウェアをはじめとする、製造可能日などが絞られており、その製造可能日を逃すと、大きな損害を発生させる可能性がある場合

基本的にリリースが一週間遅れたところで、大規模な損害を発生させることはありません。つまり、ほとんどの締め切りは、緩い締め切りであり、厳格な締め切りではありません。緩い締め切りのほとんどは、特定の期日までにある機能が完成してほしいという要望によるものです。もちろん緩い締め切りを守ることも重要ですが、そのためにコードの健全性を残ってはいけません。

もし (2, 3 週間な) 長期のリリースサイクルがあるのならば、ある機能を次のリリースに持ち込まないために、コードレビューの質を犠牲にすることも可能ではあります。しかしながら、これらのパターンを繰り返すことはすなわち、プロジェクトに負債を積み重ね続けることに他なりません。

もしチームが、リリースサイクルの終わりに CL を出して、ざっくりしたレビューだけで "CL を取り込まないといけない" ことが日常化しているならば、チームは早期に大きな機能変化の CL を出せるように開発プロセスを修正し、より良いレビューができる時間が確保しなければなりません。
